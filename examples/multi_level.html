<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Multi-Level Dataset Controller</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="../build/d3-json-controller.js" ></script>
    <link rel="stylesheet" href="../build/d3-json-controller.css"/>
    <style>
      body {
        font-family: Roboto;
      }
      th {
        font-weight: 500;
        font-size: 13px;
        text-align: left;
      }

      .json-controller-controls button path {
        fill: #89c78d;
      }
      .json-controller-controls .jump input {
        color: #269e2f;
      }
    </style>
  </head>
<body>

  <table>
    <tr><th>Episode</th><td id='control1'></td></tr>
    <tr><th>Step</th><td id='control2'></td></tr>
    <tr><th>Value</th><td id='caption'></td></tr>
  </table>

<script>

var data = [
  [{'a':11},{'a':12},{'a':13}],
  [{'a':21},{'a':22}],
  [{'a':31},{'a':32},{'a':33},{'a':34}]
];

var controller = d3.JSONController(data);

var w1 = controller.controls('#control1', 0);
var w2 = controller.controls('#control2', 1);

var caption = controller.caption('#caption')
controller.registerListener(caption.update.bind(caption), '$.*.*.a')

controller.goto(0, 0);
controller.goto(1, 0);

controller.updateListeners()

</script>

</body>
</html>
